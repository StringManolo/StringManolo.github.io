<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>Perfile</title>
</head>
<body>
<!-- PAGES: -->
<script id="index" class="smTemplate">
//PGEgaHJlZj0iLyMvaW5kZXguaHRtbCI+SW5pY2lvPC9hPgo8YSBocmVmPSIvIy9odG1sMmpzb24uaHRtbCI+aHRtbDJqc29uPC9hPg==
</script>
<script id="html2json" class="smTemplate">
//PHRleHRhcmVhIGlkPSJvcmlnIiBwbGFjZWhvbGRlcj0iSFRNTCI+PC90ZXh0YXJlYT4KPHRleHRhcmVhIGlkPSJyZXNwIiBwbGFjZWhvbGRlcj0iSlNPTiI+PC90ZXh0YXJlYT4KPGJyIC8+CjxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0iaDJqIj5IVE1MMkpTT048L2J1dHRvbj4KPHNjcmlwdD4KZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2gyaiIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oKSB7CiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3Jlc3AiKS52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNvcmlnIikudmFsdWUpOwp9KTsKCjwvc2NyaXB0Pg==
</script>
<script id="cuatroscientoscuatro" class="smTemplate">
//PGgxIGNsYXNzPSJub3RGb3VuZCI+PHNwYW4gY2xhc3M9ImF6dWwiPjQ8L3NwYW4+MDxzcGFuIGNsYXNzPSJhenVsIj40PC9zcGFuPjwvaDE+CjxhIGhyZWY9Ii8jL2luZGV4Lmh0bWwiPkluaWNpbzwvYT4KPHN0eWxlPgoubm90Rm91bmQgewogIGRpc3BsYXk6IGJsb2NrOwogIGZvbnQtc2l6ZTogOWVtOwogIGxlZnQ6IDRlbTsKICB0b3A6IDJlbTsKfQoKLmF6dWwgewogIGNvbG9yOiAjMjRjOwp9Cjwvc3R5bGU+
</script>
<header></header>
<nav></nav>
<main></main>
<footer></footer>
<script>
/*** SM ROUTER */
var _BASEURL = window.location.protocol+"//"+location.host.split(":")[0];
var tamHistorialPrevio = -1;
CambioURLDetect(window.history.length);

function CambiarPagina(url) {
  switch (url) {

    case _BASEURL+"/#/html2json.html" :
      AadirHistorial(url);
      AadirTemplate("html2json");
      CorrerScripts();
    break;

    case _BASEURL+"/#/index.html" :
      AadirHistorial(url);
      AadirTemplate("index");
    break;

    default:
      AadirHistorial(url);
      AadirTemplate("cuatroscientoscuatro");
      
  }
}

function CambioURLDetect(tamHistorial) {

  var url = new URL (window.location);
  url.port = "";

  if(tamHistorial !== tamHistorialPrevio) {
      CambiarPagina(url+"");
  }

  tamHistorialPrevio = window.history.length;
  setTimeout(function() {
    CambioURLDetect(window.history.length);
  }, 30);
  
}

function AadirTemplate(smTemplateID) {
  RemoverPagina();
  var scripts = document.querySelectorAll("script");
  for(var i = 0; i < scripts.length; ++i) {
    
    if(scripts[i].className == "smTemplate") { 
      if(scripts[i].id == smTemplateID) { 
        if (!document.querySelector("#p"+scripts[i].id)) {
          var div = document.createElement("div");
	      div.id = "p"+scripts[i].id;
	      div.className = "hsmTemplate";
          div.innerHTML = atob(scripts[i].innerHTML.substr(3));
          document.body.appendChild(div); 
          
        } else {
          "El id ya existe.";
	    }  
      } else {
	    "El template introducido por parámetro no corresponde al script que está siendo iterado.";
      } 
    } else {
      "El script no tiene class=\"smTemplate\"\n" + scripts[i].className;
    } 
  }
}

function AadirHistorial(url) {
  history.pushState({}, "", url);
}

function CorrerScripts() {
  var scripts = document.querySelectorAll(".hsmTemplate > script");
  for(var i = 0; i < scripts.length; ++i) {
    try{
      eval(scripts[i].innerHTML);
    } catch(e) {
      alert(e);
    }
  }
}

function RemoverPagina() {
  if (document.querySelector(".hsmTemplate")) {
    document.querySelector(".hsmTemplate").outerHTML = "";
  }
}
/* FIN SM ROUTER ***/
</script>
</body>
</html>