<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Smjs - SmallJS</title>
</head>
<body>
<textarea id="tuCodigo" placeholder="Tu Código">
#<!D
#<h
#<he
#<mc
#<tiExample#</ti
#</h
#<b
#<taThis is an example#</ta
#<s
#a("This is an example!");
#</s
#</b
#</h
</textarea>
<textarea id="tuCodigoProcesado" placeholder="Tu Código Procesado"></textarea>
<button type="button" id="bProcesar">Procesar</button>
<style>textarea{width:30em;height:35em;}</style>
<script>
	
document.querySelector("#bProcesar").addEventListener("click", function() {
  document.querySelector("#tuCodigoProcesado").value = smalljs(document.querySelector("#tuCodigo").value);
});



function smalljs(codigo, remplazos) {

/*
#<!D
#<h
#<he
#<mc
#<tiExample#</ti
#</h
#<b
#<taThis is an example#</ta
#<s
#a("This is an example!");
#</s
#</b
#</h
*/

  if(!remplazos) {
    var remplazos = {
    
    "#<!D": "<!DOCTYPE html>",
    "#</he": "</head>",
    "#</ti": "<\/title>",
    "#</ta": "<\/textarea>",
    "#</bu": "<\/button>",
    "#</fo": "<\/form>",
    "#</h": "<\/html>",
    "#</b": "<\/body>",
    "#</s": "<\/script\>",
    "#<st": "<styl\e>",
    "#<he": "<\head>",
    "#<mc": "<\meta charset=\"utf-8\">",
    "#<ti": "<t\itle>",
    "#<ta": "<t\extarea>",
    "#<bu": "<\button>",
    "#<it": "<\input type=\"text\">",
    "#<ip": "<\input type=\"password\">",
    "#<in": "<\input type=\"number\">",
    "#<ir": "<\input type=\"reset\">",
    "#<is": "<\input type=\"form\">",
    "#<fo": "<\form>",
    "#</h": "<\/html>",
    "#</b": "<\/body>",
    "#<s": "<\script\>",
    "#<h": "<\html>",
    "#<b": "<b\ody>",
    "#qsa": "document.querySelectorAll",
    "#ael": "addEventListener",
    "#doc": "document",
    "#O.k": "Object.keys",
    "#nRE": "new RegExp",
    "#.iH": ".innerHTML",
    "#.oH": ".outerHTML",
    "#iH": "innerHTML",
    "#oH": "outerHTML",
    "#qs": "document.querySelector",
    "#nd": "new Date",
    "#af": "function()",
    "#.l": ".length",
    "#co": "confirm",
    "#.r": ".replace",
    "#.s": ".style",
    "#$": "document.querySelector",
    "#f": "function",
    "#a": "alert",
    "#p": "prompt",
    "#l": "let",
    "#v": "var",
    "#c": "const",
    "#b": "break",
    "#d": "default",
    "#s": "switch",
    "#w": "while" 
    
    
    };
  }
  
  function replaceByArray(codigo, objeto) {
    var obj = Object.keys(objeto);
    var objLength = obj.length;
    var tmpReg;
    
    for (var i = 0; i < objLength; ++i) {
      tmpReg = new RegExp(obj[i], "g");
      codigo = codigo.replace(tmpReg, objeto[obj[i]]);
    }
   
    return codigo;
  }
  

  return replaceByArray(codigo, remplazos);
}
</script>
</body>
</html>