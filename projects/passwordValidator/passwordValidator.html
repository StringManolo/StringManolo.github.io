<!DOCTYPE html>
<meta charset="utf-8">
<html>
<head>
<title>Password Validator</title>
<script>function htmlEntities(s) {
r='replace';d=document;a=s[r](/ /g,"&#32;")[r](/!/g,"&#33;")[r](/"/g,"&#34;")[r](/%/g,"&#37;")[r](/'/g,"&#39;")[r](/\(/g,"&#40;")[r](/\)/g,"&#41;")[r](/</g,"&#60;")[r](/>/g,"&#62;")[r](/`/g,"&#96;")[r](/a/g,"&#97;")[r](/A/g,"&#65;")[r](/e/g,"&#101;")[r](/E/g,"&#69;")[r](/i/g,"&#105;")[r](/I/g,"&#73;")[r](/o/g,"&#111;")[r](/O/g,"&#79;")[r](/u/g,"&#117;")[r](/U/g,"&#85;")[r](/{/g,"&#123;")[r](/}/g,"&#125;")[r](/‘/g,"&#8216;")[r](/’/g,"&#8217")[r](/‚/g,"&#8218;")[r](/“/g,"&#8220;")[r](/”/g,"&#8221;")[r](/„/g,"&#8222;")[r](/′/g,"&#8242;")[r](/″/g,"&#8244;")[r](/‹/g,"&#8249;")[r](/›/g,"&#8250;")[r](/s/g,"&#115;")[r](/S/g,"&#83;")[r](/\./g,"&#46;");return a;}</script>
</head>
<body>
<input type="text" id="passVal">     <span id="showRes"></span><p id="helper"></p><p id="helper2"></p><p id="helper3"></p><p id="helper4"></p>
<script>
(function main(){
var pass;
var keyboard = document.querySelector("#passVal");

keyboard.onkeydown = function(){pass=keyboard.value; whatsWrong(pass); SM_Password_Validator(pass) ? writeGreen() : 1;}

function writeGreen() {
  var temp = document.querySelector("#showRes");
 
  temp.innerHTML = htmlEntities(pass) + " is good.";
  temp.style.color = "green";
}

function whatsWrong() {
  var temp = document.querySelector("#showRes");
 var temp2 = document.querySelector("#helper");
 var temp3 = document.querySelector("#helper2");
 var temp4 = document.querySelector("#helper3");
 var temp5 = document.querySelector("#helper4");

  temp.innerHTML = htmlEntities(pass) + " is bad.";
  temp.style.color = "red";

  CheckSize();
  CheckNumbers();
  CheckSpecialChars();
  CheckSpaces();


 function CheckSpaces() {
    var spaces = /\s/g;
    if (spaces.test(pass)) {
      temp5.innerHTML = "- Your password has a space.";
      temp5.style.color = "red";
    }

    else {
      temp5.innerHTML = "- Your password has not spaces.";
      temp5.style.color = "green";
    }
  }


 function CheckSpecialChars() {
    var chars = /[^A-Za-z 0-9]/g;
    if (chars.test(pass)) {
      temp4.innerHTML = "- Your password has a special character.";
      temp4.style.color = "green";
    }

    else {
      temp4.innerHTML = "- Your password need at least a special character.";
      temp4.style.color = "red";
    }
  }


  function CheckNumbers() {
    var numbs = /[0-9]/g;
    if (numbs.test(pass)) {
      temp3.innerHTML = "- Your password has a number.";
      temp3.style.color = "green";
    }

    else {
      temp3.innerHTML = "- Your password need at least a number.";
      temp3.style.color = "red";
    }
  }


  function CheckSize() {
  var teemp = pass.toString().length;

    if (teemp < 8) {

      temp2.innerHTML = "- {" + (8-teemp) + "} characters left.";
      temp2.style.color = "red";

    }

   if (teemp > 7) {
      temp2.innerHTML = "- Size is good.";
      temp2.style.color = "green";
    }


   if (teemp > 32) {

     temp2.innerHTML = "- {" + (32-pass.length) + "} characters left over.";
     temp2.style.color = "red";

   }
 }

}

/*
var pass = prompt("Password Validator\n\nA valid password is the one that conforms to the following rules:\n - Minimum length is 8.\n - Maximum length is 32.\n- Should contain at least one number.\n - Should contain at least one special character (such as &, +, @, $, #, %, etc.).\n - Should not contain spaces.");
*/
/*
SM_Password_Validator(pass) ? alert("Nice!") : alert("Oops!");*/

/*Performance*/
function SM_Password_Validator(password) {
  var conditions = /^(?=.*[\d])(?=.*[\W])([\S]){8,32}$/;

  if (conditions.test(password))
    return 1;
  return 0;
}

})();

</script>
<style>
input {
  width: 60%;
  height: 40px;
}
</body>
</html>
