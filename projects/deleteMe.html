<html><body>
<div id="graph">Want graph to be my child!!!</div>

<script>
let graph = {
  create: function(element, data, title) {
    let rootElement = document.createElement("section");
    const styleTag = "<" + "style" + ">";
    const styleTagClose = "<" + "/" + "style" + ">";
    let style = `
    ${styleTag}
    section {
      background-color: #eee;
    }

    `;

    /* rootElement.style.backgroundColor = "black"; */
    /* rootElement.style.textAlign = "center"; */
    
    let scala = 1;
    let max = getMax(data);
    while (max > 100) {
      max /= 100;
      ++scala;
    }


    let div = document.createElement("div");
    div.innerText = title;
    rootElement.appendChild(div);

    for (let i = 0; i < data.length; ++i) {
      (function() { 
        let article = document.createElement("article");
        
        style += `
	#article${i+1} {
	  display: inline-block;
	  height: ${data[i]};
          width: 10px;
          background-color: green;
          margin: 5px 0 0 4px; 
        }
        `;
	
	article.id = "article"+(i+1);
        rootElement.appendChild(article);
      })();
    }
    style += `${styleTagClose}`;
    rootElement.innerHTML += style;
    (element || document.body).appendChild(rootElement); 
  }
};


function getMax(arr) {
  let max = 0;
  for (let i = 0; i < arr.length; ++i) {
    if (arr[i] > max) {
      max = arr[i];
    }
  }
  return max;
}


let graphPlaceholder = document.querySelector("#graph");
graph.create(graphPlaceholder, [128, 64, 32, 16, 8, 4, 2, 1], "Binary Table");
</script>
</body></html>
